/**
	Open Innovations line charts in SVG - https://github.com/open-innovations/oi.linechart.js
  */
!function(t){var e=t.OI||{};function i(t,e){if(this.version="0.5.0",!t)return console.error("No element to attach to"),this;var i,c,d,u,p,f,g,y,b,k,m,x,v,w,L,P,M,A,S,C;e||(e={}),u=new h(t).loading(),this.el=t,S="linechart",d="http://www.w3.org/2000/svg",L="number"==typeof e.duration?e.duration:"0s",i=t.clientWidth,c=t.clientHeight;var N=getComputedStyle(t);c-=parseFloat(N.paddingTop)+parseFloat(N.paddingBottom),i-=parseFloat(N.paddingLeft)+parseFloat(N.paddingRight),g=[],C={},r(P={left:0,top:0,right:0,bottom:0,tick:5,"font-size":16,tooltip:{},key:{show:!1,border:{stroke:"black","stroke-width":1,fill:"none"},text:{"text-anchor":"start","dominant-baseline":"hanging","font-weight":"bold",fill:"black","stroke-width":0,"font-family":"sans-serif"}},axis:{x:{},y:{}}},e);var F=Math.round(1e8*Math.random());function E(t,e){"function"==typeof t&&(e=t,t={}),this.trigger=function(i){var o=t;r(o,i),e.call(o.this||this,o)}}function T(t,e){A&&C.click&&C.click.trigger({i:e})}function H(){var t=o(p,"."+S+"-tooltip");return t&&t.parentNode.removeChild(t),C.hidetooltip&&C.hidetooltip.trigger(),!0}function O(t,e){return{x:t=P.left+(t-y)/(k-y)*(i-P.left-P.right),y:e=P.top+(1-(e-b)/(m-b))*(c-P.bottom-P.top)}}function R(t){return document.createElementNS(d,t)}function z(t,e,o){var h={line:{show:!0,stroke:"black","stroke-width":1,"stroke-linecap":"round","stroke-dasharray":""},grid:{show:!1,stroke:"black","stroke-width":1,"stroke-linecap":"round","stroke-dasharray":""},title:{},ticks:{show:!0},labels:{}};this.ticks={},this.line={},this.el=R("g"),a(this.el,[S+"-grid",S+"-grid-"+t]),this.title=R("text"),this.title.classList.add(S+"-grid-title"),n(this.title,this.el);var d=P["font-size"]||16;return n(this.el,p),this.setProperties=function(t){return r(h,t),this},this.getProperty=function(t){return h.hasOwnProperty(t)?h[t]:null},this.update=function(){var r,a,u,p,f,g,x,v,w,L,M,A;for(r in h.labels||(h.labels={}),this.title.innerHTML=h.title.label||"",a="x"==t?P.left+(i-P.right-P.left)/2:d/2,u="y"==t?P.top+(c-P.top-P.bottom)/2:c-d/2,l(this.title,{x:a,y:u,transform:"y"==t?"rotate(-90,"+a+","+u+")":""}),this.el.removeAttribute("style"),this.line.el||(this.line.el=R("path"),this.line.el.classList.add("line"),this.line.el.setAttribute("vector-effect","non-scaling-stroke"),n(this.line.el,this.el),this.line.animate=new B(this.line.el)),p=[{x:P.left-.5,y:c-P.bottom-.5},{x:"x"==t?i-P.right:P.left-.5,y:"x"==t?c-P.bottom-.5:P.top-.5}],this.line.animate.set({d:{from:"",to:p}}),l(this.line.el,{style:h.line.show?"display:block":"display:none",stroke:h.line.stroke,"stroke-width":h.line["stroke-width"],"stroke-dasharray":h.line["stroke-dasharray"]}),this.ticks)r&&!h.ticks.show&&(this.ticks[r].line&&this.ticks[r].line.parentNode.removeChild(this.ticks[r].line),this.ticks[r].text&&this.ticks[r].text.parentNode.removeChild(this.ticks[r].text),delete this.ticks[r]);for(r in h.labels)void 0!==r&&(void 0===h.labels[r]&&(h.labels[r]={label:""}),g=h.labels[r].align||("x"==t?"bottom":"left"),x=h.labels[r]["text-anchor"]||("y"==t?"left"==g?"end":"start":"middle"),L="x"==t?"bottom"==g?"hanging":"text-bottom":"middle",f="number"==typeof h.labels[r].ticksize?h.labels[r].ticksize:5,a="x"==t?parseFloat(r):"left"==g?y:k,u="x"==t?"bottom"==g?b:m:parseFloat(r),(e=O(a,u)).x=Math.round(e.x),o.x=Math.round(o.x),o=s(e),"x"==t?(h.grid.show&&a!=y&&(e.y="bottom"==g?P.top:c-P.bottom),o.y+="bottom"==g?f:-f):(h.grid.show&&u!=b&&(e.x="left"==g?i-P.right:P.left),o.x+="left"==g?-f:f),"x"==t&&(a<y||a>k)||"y"==t&&(u<b||u>m)?this.ticks[r]&&(this.ticks[r].line&&this.ticks[r].line.el.setAttribute("style","display:none"),this.ticks[r].text&&this.ticks[r].text.el.setAttribute("style","display:none")):(this.ticks[r]?(this.ticks[r].line&&this.ticks[r].line.el.removeAttribute("style"),this.ticks[r].text.el.removeAttribute("style")):(this.ticks[r]={text:{el:R("text")}},f>0&&(this.ticks[r].line={el:R("line")},this.ticks[r].line.animate=new B(this.ticks[r].line.el),n(this.ticks[r].line.el,this.el)),this.ticks[r].text.animate=new B(this.ticks[r].text.el),this.ticks[r].text.el.setAttribute("text-anchor",h["text-anchor"]||x),n(this.ticks[r].text.el,this.el)),this.ticks[r].line&&(this.ticks[r].line.animate.set({x1:{to:e.x-.5},x2:{to:o.x-.5},y1:{to:e.y-.5},y2:{to:o.y-.5}}),l(this.ticks[r].line.el,{stroke:h.grid.stroke,"stroke-width":h.grid["stroke-width"]})),this.ticks[r].text.el.innerHTML=h.labels[r].label||"",l(this.ticks[r].text.el,{stroke:h.labels[r].stroke||"black","stroke-width":h.labels[r]["stroke-width"]||0,fill:h.labels[r].fill||"black","dominant-baseline":L}),M="right"==h.labels[r].align?1:-1,A="top"==h.labels[r].align?-1:1,v=o.x+("y"==t?M*("number"==typeof h.labels[r].offset?h.labels[r].offset:4):0),w=o.y+("x"==t?A*("number"==typeof h.labels[r].offset?h.labels[r].offset:4):0),this.ticks[r].text.animate.set({x:{to:v},y:{to:w}})));n(this.line.el,this.el)},this}function j(e,i,h){var c,d,u,f,g,x;function v(e){var r=parseInt(e.target.getAttribute("data-i"));i[r]?function(e,i,r,s,l){var h,c,d,u,f;if(A)(c=o(A,"."+S+"-tooltip"))||(a(c=document.createElement("div"),[S+"-tooltip"]),n(c,A)),h=o(e,"title").innerHTML,s.label||(s.label=h),"function"==typeof l.label?h=l.label.call(e,{series:i,i:r,data:s}):"string"==typeof l.label&&(h=l.label),h=h.replace(/\n/g,"<br />"),c.innerHTML=h,d="","function"==typeof l.class?d=l.class.call(e,{series:i,i:r,data:s}):"string"==typeof l.class&&(d=l.class),d&&c.setAttribute("class",d),u=e.getBoundingClientRect(),f=p.getBoundingClientRect(),c.setAttribute("style","position:absolute;left:"+Math.round(u.left+u.width/2-f.left+t.scrollLeft)+"px;top:"+Math.round(u.top+u.height/2-f.top)+"px;transform:translate3d(-50%,-100%,0);display:"+(h?"block":"none")),n(A,p),C.showtooltip&&C.showtooltip.trigger({i:r})}(e.target,c,r,i[r],c.tooltip):console.error("Bad tooltip "+r,e)}return i||(i=[]),c={points:{show:!0,color:"black","stroke-linecap":"round",stroke:"black","stroke-width":0,"fill-opacity":1},line:{show:!0,color:"#000000","stroke-width":4,"stroke-linecap":"round","stroke-linejoin":"round","stroke-dasharray":"",fill:"none"},attr:h.attr||{}},d={},u="",f=[],x="",this.el=R("g"),(g={"clip-path":"url(#clip-"+F+")"})[S+"-series"]=e+1,l(this.el,g),a(this.el,[S+"-series",S+"-series-"+(e+1)]),this.select=function(){return d.el.classList.add("on"),this},this.selectItem=function(t){return t>=0&&f[t].el?v({target:f[t].el}):H(),this},this.deselect=function(){return d.el.classList.remove("on"),this},this.setData=function(t){return i=t||[],this},this.updateRange=function(){for(var t=0;t<i.length;t++)y=Math.min(y,i[t].x),b=Math.min(b,i[t].y),k=Math.max(k,i[t].x),m=Math.max(m,i[t].y);return this},this.getStyle=function(t,e){return c.hasOwnProperty(t)&&c[t].hasOwnProperty(e)?c[t][e]:null},this.getProperty=function(t){return c.hasOwnProperty(t)?c[t]:null},this.getProperties=function(){return c},this.setProperties=function(t){if(t||(t={}),r(c,t),c.class){var e=c.class.split(/ /);a(this.el,e)}return this},this.update=function(){var t,r,o,a,h,p,g,y,b;if(d.el||(d.el=R("path"),d.el.classList.add("line"),l(d.el,{d:"M0 0 L 100,100",stroke:c.line.color||"black"}),n(d.el,this.el),d.animate=new B(d.el),d.el.addEventListener("click",q)),l(d.el,{style:c.line.show?"display:block":"display:none",stroke:c.line.color||"black","stroke-width":this.getStyle("line","stroke-width"),"stroke-linecap":this.getStyle("line","stroke-linecap"),"stroke-linejoin":this.getStyle("line","stroke-linejoin"),"stroke-dasharray":this.getStyle("line","stroke-dasharray"),fill:this.getStyle("line","fill"),"vector-effect":"non-scaling-stroke"}),f.length>i.length)for(t=f.length-1;t>=i.length;t--)f[t].el.remove(),f.pop();if(f.length<i.length){for(r=f.length;r<i.length;r++)o=R("circle"),(y={cx:0,cy:0,"data-i":r,tabindex:0})[S+"-series"]=e+1,l(o,y),f[r]={el:o,title:R("title"),old:{}},i[r].label||(i[r].label="Point "+(r+1)),c.tooltip||(c.tooltip={}),a=i[r].label+": "+i[r].y.toFixed(2),"function"==typeof c.tooltip.label?a=c.tooltip.label.call(o,{series:c,i:r,data:i[r]}):"string"==typeof c.tooltip.label&&(a=c.tooltip.label),f[r].title.innerHTML=a,n(f[r].title,o),c.tooltip.label&&(o.addEventListener("mouseover",(function(t){t.target.focus()})),o.addEventListener("focus",v)),o.addEventListener("click",(function(t){var e=parseInt(t.target.getAttribute("data-i"));i[e]?T(t.target,e):console.error("Bad click "+e,t)})),n(o,this.el),f[r].c=new B(f[r].el);if(c.line.label){(x=R("text")).innerHTML=c.title;var k=O(i[f.length-1].x,i[f.length-1].y);k["dominant-baseline"]="middle",k.fill=c.line.color||"black",c.line.label.padding&&(k.x+=c.line.label.padding),l(x,k),n(x,this.el)}}h=[];var m={};for(r=0;r<f.length;r++)p=(c["stroke-width"]||1)/2,c.points&&("number"==typeof c.points.size&&(p=Math.max(c.points.size,p)),"function"==typeof c.points.size&&(p=c.points.size.call(o,{series:e,i:r,data:i[r]})),"string"==typeof c.points.color&&(b=c.points.color),"function"==typeof c.points.color&&(b=c.points.color.call(o,{series:e,i:r,data:i[r]}))),l(f[r].el,{r:p,fill:b,"fill-opacity":c.points["fill-opacity"],stroke:c.points.stroke,"stroke-width":c.points["stroke-width"]}),g=O(i[r].x,i[r].y),h.push(g),"number"==typeof f[r].old.x&&"number"==typeof f[r].old.y?m=s(f[r].old):"number"==typeof m.x&&"number"==typeof m.y&&(f[r].old=m),f[r].c.set({cx:{from:f[r].old.x||null,to:g.x},cy:{from:f[r].old.y||null,to:g.y}}),f[r].old=g;return d.animate.set({d:{from:u,to:h}}),u=s(h),this},this.remove=function(){d.el.parentNode&&d.el.parentNode.removeChild(d.el);for(var t=0;t<f.length;t++)f[t].el.parentNode&&f[t].el.parentNode.removeChild(f[t].el)},this.setData(i),this.setProperties(h),n(this.el,p),this}function B(e,i){var r,o,a;return r=window.getComputedStyle(t),o=e.tagName.toLowerCase(),i||(i={}),a={},r["animation-duration"]&&(this.duration=r["animation-duration"]),i.duration&&(this.duration=i.duration),this.duration||(this.duration=L),this.duration=parseFloat(this.duration),this.set=function(t){var i,r,h,c,d,u;for(i in e.querySelectorAll("animate").forEach((function(t){t.parentNode.removeChild(t)})),t)if(i){if(d=t[i].from||"",u=t[i].to,!d&&a[i]&&(d=a[i].value),h=null,c=null,"path"==o){for(h="",c="",r=0;r<d.length;r++)h+=(r>0?"L":"M")+d[r].x.toFixed(2)+","+d[r].y.toFixed(2);for(r=0;r<u.length;r++)c+=(r>0?"L":"M")+u[r].x.toFixed(2)+","+u[r].y.toFixed(2);if(d.length>0&&d.length<u.length)for(r=0;r<u.length-d.length;r++)h+="L"+d[d.length-1].x.toFixed(2)+","+d[d.length-1].y.toFixed(2);if(u.length>0&&u.length<d.length)for(r=0;r<d.length-u.length;r++)c+="L"+u[u.length-1].x.toFixed(2)+","+u[u.length-1].y.toFixed(2);h||(h=null)}else d&&(h=s(d)),c=s(u);this.duration&&null!==h&&(a[i]||(a[i]={}),a[i].el=R("animate"),l(a[i].el,{attributeName:i,dur:this.duration||0,repeatCount:"1"}),n(a[i].el,e)),e.setAttribute(i,c),this.duration&&null!==h&&(l(a[i].el,{from:h,to:c,values:h+";"+c}),a[i].el.beginElement(),a[i].value=u)}return this},this}function I(){y=1e100,b=1e100,k=-1e100,m=-1e100;for(var t=0;t<g.length;t++)g[t].updateRange();"number"==typeof M.x.getProperty("min")&&(y=M.x.getProperty("min")),"number"==typeof M.x.getProperty("max")&&(k=M.x.getProperty("max")),"number"==typeof M.y.getProperty("min")&&(b=M.y.getProperty("min")),"number"==typeof M.y.getProperty("max")&&(m=M.y.getProperty("max"))}function q(t){for(var e=parseInt(t.currentTarget.closest("g").getAttribute(S+"-series")),i=0;i<g.length;i++)e==i?g[i].select():g[i].deselect();n(g[e].el,g[e].el.closest("svg")),w&&n(w.el,w.el.closest("svg")),o(t.target.closest("g"),"circle").focus(),n(A,p)}return p||(l(p=R("svg"),{xmlns:d,version:"1.1",width:i,height:c,viewBox:"0 0 "+i+" "+c,overflow:"visible",style:"max-width:100%;",preserveAspectRatio:"none"}),n(x=R("defs"),p),n(p,t),t.addEventListener("mouseleave",(function(t){H()})),l(A=R("foreignObject"),{width:1,height:1,overflow:"visible"}),n(A,p),l(v=R("clipPath"),{id:"clip-"+F}),n(v,p),l(f=R("rect"),{x:0,y:0,width:i,height:c}),n(f,v)),(M={x:new z("x",P.left,i-P.right-P.left),y:new z("y",P.bottom,c-P.top-P.bottom)}).x.setProperties(P.axis.x||{}),M.y.setProperties(P.axis.y||{}),this.on=function(t,e,i){return"function"==typeof e&&(i=s(e),e={}),C[t]=new E(e,i),this},this.off=function(t){return delete C[t],this},this.getSVG=function(){return p.querySelectorAll("animate").forEach((function(t){t.parentNode.removeChild(t)})),p.outerHTML},this.setProperties=function(t){return r(P,t||{}),M.x.setProperties(P.axis.x||{}),M.y.setProperties(P.axis.y||{}),this},this.addSeries=function(t,e){return t?(e||(e={}),g.push(new j(g.length,t,e)),I(),this.series=g,this):(u.error("No data in series"),this)},this.clear=function(){for(var t=0;t<g.length;t++)g[t].remove();return g=[],this.series=[],this.draw()},this.draw=function(){var t,e,r,s,h,d,u,f,y,b,k,m,v,A,C;for(H(),I(),M.x.update(),M.y.update(),t="<style>",t+="\t."+S+"-series circle { transition: transform "+L+" linear, r "+L+" linear; }\n",t+="\t."+S+"-series circle:focus { stroke-width: 4; }\n",t+="\t."+S+"-series:hover path.line, ."+S+"-series.on path.line { cursor:pointer; }\n",e=0;e<g.length;e++)g[e].update(),t+="\t."+S+"-series-"+(e+1)+":hover path.line, ."+S+"-series-"+(e+1)+".on path.line { stroke-width: "+(g[e].getProperty("stroke-width-hover")||4)+"; }\n";if(P.key.show){if(r=P["font-size"]||16,s=P.key.padding||5,h=(P.key.label?1:0)*r+2*s+g.length*r,u=0,f=0,!w){if((w={el:R("g"),g:[],border:R("rect")}).el.classList.add("key"),l(w.border,{x:0,y:P.top,width:i,height:h}),"object"==typeof P.key.border)for(v in P.key.border)w.border.setAttribute(v,P.key.border[v]);n(w.border,w.el),n(w.el,p)}for(d=0,y=0;y<g.length;y++)w.g[y]||(w.g[y]=R("g"),w.g[y].setAttribute(S+"-series",y),A=[S+"-series",S+"-series-"+(y+1)],g[y].getProperty("class")&&A.concat(g[y].getProperty("class").split(/ /)),a(w.g[y],A),n(w.g[y],w.el),w.g[y].addEventListener("mouseover",q)),w.g[y].innerHTML='<text><tspan dx="'+2*r+'" dy="0">'+(g[y].getProperty("title")||"Series "+(y+1))+'</tspan></text><path d="M0 0 L 1 0" class="line" class="" stroke-width="3" stroke-linecap="round"></path><circle cx="0" cy="0" r="5" fill="silver"></circle>',l(w.g[y].querySelector("tspan"),g[y].getProperty("attr")),d=Math.max(d,w.g[y].getBoundingClientRect().width);for(P.key.position||(P.key.position="top right"),C=P.key.position.split(/ /),u=f=0,t=0;t<C.length;t++)"left"==C[t]?u=P.left+s:"right"==C[t]?u=i-P.right-d-s:"top"==C[t]?f=P.top+s:"bottom"==C[t]&&(f=c-P.bottom-s-h);for(l(w.border,{x:u,width:d+s,y:f}),f+=s,u+=s,y=0;y<g.length;y++){if(b=o(w.g[y],"text"),k=o(w.g[y],"path"),m=o(w.g[y],"circle"),b.setAttribute("x",u),b.setAttribute("y",f+y*r+.2*r),"object"==typeof P.key.text)for(v in P.key.text)b.setAttribute(v,P.key.text[v]);k.setAttribute("d","M"+u+","+(f+(.5+y)*r)+" l "+1.5*r+" 0"),l(m,{cx:u+.75*r,cy:f+(.5+y)*r,fill:(v=g[y].getProperties()).points.color||"","stroke-width":v.points["stroke-width"]||0,stroke:v.points.stroke||""}),v.line.color&&k.setAttribute("stroke",v.line.color)}}return t+="\t."+S+"-grid."+S+"-grid-x ."+S+"-grid-title,."+S+"-grid."+S+"-grid-y ."+S+"-grid-title { text-anchor: middle; dominant-baseline: central; }\n",t+="\t."+S+"-grid."+S+"-grid-y text { dominant-baseline: "+((P.axis.y.labels?P.axis.y.labels.baseline:"")||"middle")+"; }\n",t+="\t."+S+"-tooltip { background: black; color: white; padding: 0.25em 0.5em; margin-top: -1em; transition: left 0.1s linear, top 0.1s linear; border-radius: 4px; white-space: nowrap; }\n",t+="\t."+S+'-tooltip::after { content: ""; position: absolute; bottom: auto; width: 0; height: 0; border: 0.5em solid transparent; left: 50%; top: 100%; transform: translate3d(-50%,0,0); border-color: transparent; border-top-color: black; }\n',t+="\t</style>\n",x&&(x.innerHTML=t),this},u.remove(),this}function r(t,e){for(var i in e)try{e[i].constructor==Object?t[i]=r(t[i],e[i]):t[i]=e[i]}catch(r){t[i]=e[i]}return t}function o(t,e){return t.querySelector(e)}function n(t,e){return e.appendChild(t)}function s(t){return JSON.parse(JSON.stringify(t))}function l(t,e){for(var i in e)t.setAttribute(i,e[i]);return t}function a(t,e){for(var i=0;i<e.length;i++)t.classList.add(e[i]);return t}function h(t){var e=document.createElement("div");return e.classList.add("spinner"),e.setAttribute("style","position:absolute;left:50%;top:50%;transform:translate3d(-50%,-50%,0);"),n(e,t),this.loading=function(){return e.innerHTML="Loading...",this},this.loaded=function(){return e.innerHTML="",this},this.remove=function(){return e&&e.parentNode.removeChild(e),this},this.error=function(t){return e&&(console.error(t),e.innerHTML='<span class="error">ERROR: '+t+"</span>"),this},this}e.ready||(e.ready=function(t){"loading"!=document.readyState?t():document.addEventListener("DOMContentLoaded",t)}),e.linechart=function(t,e){return new i(t,e)},t.OI=e}(window||this);
